<app-menu></app-menu>
    <div class="data">
    <div class="alert alert-success alertChanged" *ngIf="updated">Account settings updated successfully !</div>
    <div class="container user-details">
  
    <div class="container">
      <div class="row">

          <div class="col-md-3">
            <div class="text-center">
              <img *ngIf="file" src="../../assets/img/{{file}}" class="avatar img-circle" alt="avatar">
              <h6 *ngIf="!file">Upload your photo...</h6>
              
              <input type="file" class="form-control inputfile" (change)="onFileChanged($event)">
            </div>
          </div>
          
          
          <div class="col-md-9 personal-info">
            <form [formGroup]="changeForm" (ngSubmit)="onSubmit()">
              <div class="form-group">
                <label class="col-lg-3 control-label"><Strong>First name:</Strong></label>
                <div class="col-lg-8">
                  <input class="form-control" type="text" name="First_name" formControlName="name" [(ngModel)]="name">
                </div>
              </div>
              <div class="form-group">
                <label class="col-lg-3 control-label"><Strong>Last name:</Strong></label>
                <div class="col-lg-8">
                  <input class="form-control" type="text" name="surname" formControlName="surname" [(ngModel)]="surname">
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label"><Strong>Password:</Strong></label>
                <div class="col-md-8">
                  <input class="form-control" type="password" formControlName="password" name="password" [(ngModel)]="password" [ngClass]="{ 'is-invalid': submitted && f.password.errors }">
                  <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                    <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label"><Strong>Confirm password:</Strong></label>
                <div class="col-md-8">
                  <input class="form-control" type="password" formControlName="password_repeat" name="password_repeat" [(ngModel)]="password_repeat" [ngClass]="{ 'is-invalid': submitted && f.password_repeat.errors }">
                  <div *ngIf="submitted && f.password_repeat.errors" class="invalid-feedback">
                    <div *ngIf="f.password_repeat.errors.minlength">Password must be at least 6 characters</div>
                    <div *ngIf="f.password_repeat.errors.mismatch">
                      The passwords are not the same.
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label"></label>
                <div class="col-md-8">
                  <input type="submit" class="btn btn-primary" value="Save Changes">
                  <span></span>
                  <input type="button" class="btn btn-default cancel" value="Cancel" (click)="onBack()">
                </div>
              </div>
            </form>
          </div>
      </div>
    </div>
    </div>
    <hr>
    <div class="user-comments container" *ngIf="commentExist">
      <h2 class="info">{{login}}'s comments</h2>

      <div class="comments" *ngFor="let comment of userCommentsArray">
        <div class="row">
            <div class="col-md-4">
                <p><strong>Comment:</strong></p>
                <div> {{comment.comment}} </div>
            </div>
            <div class="col-md-4">
                <p><strong>Movie title:</strong></p>
                <div>{{comment.title}}</div>
            </div>
            <div class="col-md-4">
                <button class="btn btn-danger btn-visit" (click)="visitSite(comment.film_id, comment.film_language)">Click to visit</button>
            </div>
        </div>
      </div>
    </div>
</div>
